<?xml version="1.0" encoding="UTF-8"?>
<templates>
    <t t-name="pos_customs.owl_accounting_dashboard_template" owl="1">
        <div class="vh-100 overflow-auto bg-muted">
            <div class="row mb-5 p-4 border-bottom">
                <div class="col-3">
                    <h2>Point of Sale</h2>
                </div>
                <div class="col-9">
                    <div class="d-flex">
                        <select class="date_filter_values o_input me-3" t-on-change="periodFilterChange">
                            <option value="0">Select Period</option>
                            <option value="1">Today</option>
                            <option value="7_days">Last 7 Days</option>
                            <option value="30_days">Last 30 Days</option>
                            <option value="90_days">Last 90 Days</option>
                            <option value="365_days">Last 365 Days</option>
                        </select>

                        <select class="o_field_many2many_selection o_input me-3" t-on-change="sessionFilterChange">
                            <option value="false">Session</option>
                            <t t-foreach="state.dataPosSession" t-as="i" t-key="i.id">
                                 <option t-att-value="i.id"><t t-esc="i.name"/></option>
                            </t>

                        </select>

                        <select class="date_filter_values o_input me-3" t-on-change="posFilterChange">
                            <option value="0">Point of Sale</option>
                            <t t-foreach="state.dataPointOfSaleList" t-as="i" t-key="i.id">
                                 <option t-att-value="i.id"><t t-esc="i.name"/></option>
                            </t>

                        </select>

                        <select class="date_filter_values o_input me-3" t-on-change="responsibleFilterChange">
                            <option t-att-valuevalue="0">Respondsible</option>
                            <t t-foreach="state.dataResponsible" t-as="responsible" t-key="responsible.id">
                                <option t-att-value="responsible.id"><t t-esc="responsible.name"/></option>
                            </t>

                        </select>

                        <select class="date_filter_values o_input me-3">
                            <option value="0">Product</option>

                        </select>
                    </div>

                </div>
            </div>

            <div class="row">
                <div class="col-lg-3">
                    <div><h1 class="text-primary fw-bold border-bottom border-dark">Sales Summary</h1></div>
                    <div class="row">
                        <div class="col">
                            <t t-foreach="state.posTerminal" t-as="i" t-key="i.config_id">
                             <div class="mb-2">
                                <h2 class="text-primary fw-bold"><span t-esc="i.config_name"/></h2>
                                <h2 class="text-info"><span t-esc='i.total_sales' /></h2>
                            </div>
                            </t>
                           
                            <!-- <div class="mb-2">
                                <h1 class="text-primary fw-bold">Branch 2</h1>
                                <h2 class="text-info">Sales</h2>
                            </div>
                            <div class="mb-2">
                                <h1 class="text-primary fw-bold">Branch 3</h1>
                                <h2 class="text-info">Sales</h2>
                            </div> -->
                        </div>
                        <div class="col">
                            <div style="height:300px">
                                <ChartRender type="'doughnut'" labels="state.salesSumaryLabels" values="state.salesSummaryData" title="'Top Products Report'" />
                            </div>
                        </div>
                    </div>


                </div>
                <div class="col-lg-9">
                    <div class="row p-2">
                        <KpiCard name="'Orders'" value="state.strcountPosOrder" percentage="N/A" />
                        <KpiCard name="'Revenues'" value="state.strTotalRevenue" percentage="N/A" />
                        <KpiCard name="'Average Order'" value="state.averageOrder" percentage="N/A" />
                        <KpiCard name="'Cash Out'" value="state.ttalCashOutAmount" percentage="N/A" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-4">
                       <div class="border-bottom border-dark">
                        <h1 class="text-primary fw-bold">Sales by Payment Method</h1>
                    </div>
                    <div style="height:250px; width:100%">
                        <PaymentMethodChartRender type="'bar'" dataValues="state.salesByPaymentMethodData" labels="state.salesByPaymentMethodLabels" title="'Payment Method'" />
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="border-bottom border-dark">
                        <h1 class="text-primary fw-bold">Sales by Hour</h1>
                    </div>
                     <div style="height:250px; width:100%">
                        <SalesByHourChartRender title="'Sales by Hour'" dataValues="state.fetchChartTotalSalesPerHourData" />
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="border-bottom border-dark">
                        <h1 class="text-primary fw-bold">Tips &amp; Discount</h1>
                    </div>
      
                        <div class="row">
                            <div class="col">
                                <div style="height:300px">
                                    <TipsDiscountChartRender title="'Tips &amp; Discount'" />
                                </div>
                            </div>
                            <div class="col p-3">
                                <div class="mb-2">
                                    <h2 class="text-primary fw-bold">Discount</h2>
                                    <h2 class="text-info">0</h2>
                                </div>
                                <div class="mb-2">
                                    <h2 class="text-primary fw-bold">Tips</h2>
                                    <h2 class="text-info">0</h2>
                                </div>
                            </div>
                        </div>


                  

                </div>
            </div>

            <div class="row">
                <div class="col-lg-4">
                    <div class="border-bottom border-dark">
                        <h1 class="text-primary">Top Salesperson</h1>
                    </div>

                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Salesperson</th>
                                <th>Orders</th>
                                <th>Revenues</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Generate exactly 10 empty rows -->
                            <t t-foreach="state.getPosTopSalesCashier" t-as="i" t-key="i">
                                <tr>
                                    <td><span t-esc="i[2]"/></td>
                                    <td><span t-esc="i[1]"/></td>
                                    <td><span t-esc="i[0]"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
                <div class="col-lg-4">
                    <div class="border-bottom border-dark">
                        <h1 class="text-primary">Top Product</h1>
                    </div>

                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Orders</th>
                                <th>Revenue</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Generate exactly 10 empty rows -->
                            <t t-foreach="state.getTopProductPosSales" t-as="i" t-key="i[0]">
                                <tr>
                                    <td><span t-esc="i[1].en_US"/></td>
                                    <td><span t-esc="i[4]"/></td>
                                    <td><span t-esc="i[3]"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
                <div class="col-lg-4">
                    <div class="border-bottom border-dark">
                        <h1 class="text-primary">Expenses by Product Category</h1>
                    </div>

                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Discription</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Generate exactly 10 empty rows -->
                            <t t-foreach="state.getProductCategoryExpenses" t-as="i" t-key="i.id">
                                <tr>
                                    <td><span t-esc="i.category"/></td>
                                    <td> <span t-esc="i.str_total_expense"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </t>
</templates>